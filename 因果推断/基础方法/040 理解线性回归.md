# 总体模型

对于多元回归模型

$$y_i|x_i = \beta_0 + \beta_1 x_{1i} + \beta_2 x_{2i} + \dots + \beta_p x_{pi} + \epsilon_i|x_i$$

假设样本有n个观测值：

$$Y = \begin{bmatrix} y_1 \\ y_2 \\ \vdots \\ y_n \end{bmatrix}_{n \times 1}$$

$$X = \begin{bmatrix} 1 & x_{11} & x_{12} & \dots & x_{1p} \\ 1 & x_{21} & x_{22} & \dots & x_{2p} \\ \vdots & & & & \\ 1 & x_{n1} & x_{n2} & \dots & x_{np} \end{bmatrix}_{n \times (p+1)}$$

$$\beta = \begin{bmatrix} \beta_0 \\ \beta_1 \\ \vdots \\ \beta_p \end{bmatrix}_{(p+1) \times 1}$$

$$\epsilon = \begin{bmatrix} \epsilon_1 \\ \epsilon_2 \\ \vdots \\ \epsilon_n \end{bmatrix}_{n \times 1}$$

则回归模型可以表示为：

$$Y = X \beta + \epsilon$$

这个其实并不难理解，最难的部分可能是矩阵乘法 $X \beta$  ，我们可以这样理解一下：

> $X_{n(P+1)}$ 和 $\beta_{(p+1)\times 1}$ 相乘得到一个n行1列的矩阵 $Y$  ，$Y$  第k行的元素 $y_k$ 是 $X$ 第 k 行和  $\beta$ 相乘加上 $\epsilon$  第 k 行元素 $\epsilon_k$  的结果：

$$y_k = \begin{bmatrix} 1 & x_{k1} & x_{k2} & \dots & x_{kp} \end{bmatrix} * \begin{bmatrix} \beta_0 \\ \beta_1 \\ \vdots \\ \beta_p \end{bmatrix} + \epsilon_k$$