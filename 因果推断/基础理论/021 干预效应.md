一旦定义好了干预变量，确定了每种干预状态下的潜在结果，我们就可以计算干预效应。

根据分析的不同层次，干预效应可分为两种：一种是个体层面的干预，二是总体层面的干预。

# 个体层面的干预效应

以二值干预为例，对任意个体 $i$ 来说，记干预状态（$D_i=1$）下的潜在结果为 $Y_i^1$ ，控制状态（$D_i=0$）下的潜在结果为 $Y_i^0$，我们可以通过二者之差来定义个体层面的干预效应，用公式表达为：

$$\delta_i=Y_i^1-Y_i^0$$

要计算个体层面的干预效应，研究者必须知道所有干预状态下的潜在结果，而这在现实情况下是不可能的。

由于因果推断的根本难题，研究者无法直接计算个体层面的干预效应，只能在一定的假设条件下对其大小进行估计。这种估计的关键在于合理预测反事实状态下缺失的潜在结果，也正因如此，鲁宾认为：因果推断在本质上是一个缺失数据的填补问题。


# 平均干预效应

平均干预效应是个体层面干预效应的平均值。在计算平均值之前，需要明确一个问题是：对谁求平均？
在具体的应用中，研究者通畅会计算三种不同的平均干预效应，它们分别对应三个不同的群体。

1. 总体的平均干预效应（ATE），对所有的研究对象求平均：
$$\delta_{ATE}=E(\delta_i)=E(Y_i^1-Y_i^0)$$
2. 干预组的平均干预效应（average treatment effect in the treated，ATT）
$$\delta_{ATT}=E(\delta_i|d_i=1)=E(Y_i^1-Y_i^0|D_i=1)$$
3. 控制组的平均干预效应（average treatment effect in the untreated，ATU）
$$\delta_{ATU}=E(\delta_i|d_i=0)=E(Y_i^1-Y_i^0|D_i=0)$$
个体层面的干预效应通畅存在异质性，所以ATE、ATT、ATU的值不会完全相等，而从三者的差异出发可以对一些竞争性的理论进行校验。

